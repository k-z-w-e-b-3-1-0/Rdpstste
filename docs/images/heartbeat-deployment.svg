<svg xmlns="http://www.w3.org/2000/svg" width="960" height="480" viewBox="0 0 960 480">
  <style>
    text { font-family: 'Noto Sans JP', 'Segoe UI', sans-serif; fill: #1f2933; }
    .title { font-size: 26px; font-weight: 600; }
    .subtitle { font-size: 18px; fill: #52606d; }
    .box { fill: #f8fafc; stroke: #2563eb; stroke-width: 2.5; rx: 12; ry: 12; }
    .inner-box { fill: #e0f2fe; stroke: #1d4ed8; stroke-width: 2; rx: 8; ry: 8; }
    .arrow { stroke: #0f172a; stroke-width: 2.5; marker-end: url(#arrowhead); fill: none; }
    .annotation { font-size: 16px; fill: #0f172a; font-weight: 500; }
    .footnote { font-size: 14px; fill: #52606d; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="12" markerHeight="9" refX="10" refY="4.5" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 12 4.5, 0 9" fill="#0f172a" />
    </marker>
  </defs>

  <rect class="box" x="60" y="90" width="260" height="300" />
  <text class="subtitle" x="190" y="125" text-anchor="middle">監視サーバ</text>
  <text class="footnote" x="190" y="150" text-anchor="middle">(OS + Heartbeat Collector)</text>
  <rect class="inner-box" x="90" y="180" width="200" height="70" />
  <text class="annotation" x="190" y="220" text-anchor="middle">Heartbeat Collector</text>
  <rect class="inner-box" x="90" y="270" width="200" height="70" />
  <text class="annotation" x="190" y="310" text-anchor="middle">状態ストア</text>

  <rect class="box" x="360" y="70" width="260" height="170" />
  <text class="subtitle" x="490" y="105" text-anchor="middle">監視対象ノード A</text>
  <text class="footnote" x="490" y="130" text-anchor="middle">(OS + Heartbeat Agent)</text>
  <rect class="inner-box" x="390" y="150" width="200" height="60" />
  <text class="annotation" x="490" y="185" text-anchor="middle">Heartbeat Agent</text>
  <rect class="inner-box" x="400" y="220" width="180" height="50" />
  <text class="annotation" x="490" y="250" text-anchor="middle">業務アプリケーションA</text>

  <rect class="box" x="660" y="250" width="260" height="170" />
  <text class="subtitle" x="790" y="285" text-anchor="middle">監視対象ノード B</text>
  <text class="footnote" x="790" y="310" text-anchor="middle">(OS + Heartbeat Agent)</text>
  <rect class="inner-box" x="690" y="330" width="200" height="60" />
  <text class="annotation" x="790" y="365" text-anchor="middle">Heartbeat Agent</text>
  <rect class="inner-box" x="700" y="390" width="180" height="50" />
  <text class="annotation" x="790" y="420" text-anchor="middle">業務アプリケーションB</text>

  <path class="arrow" d="M350 190 C320 190, 290 200, 260 210" />
  <path class="arrow" d="M350 210 C320 220, 290 240, 260 260" />
  <path class="arrow" d="M650 320 C620 310, 580 300, 520 280" />
  <path class="arrow" d="M650 340 C600 330, 550 320, 520 310" />

  <text class="annotation" x="440" y="230" text-anchor="middle" transform="rotate(-14 440 230)">5分おきのハートビート</text>
  <text class="annotation" x="710" y="330" text-anchor="middle" transform="rotate(12 710 330)">5分おきのハートビート</text>

  <text class="title" x="480" y="48" text-anchor="middle">RDP セッション監視の構成図</text>
  <text class="footnote" x="190" y="360" text-anchor="middle">状態更新・異常検知</text>
</svg>
